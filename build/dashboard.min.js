let development=!1;var Swiper=window.Swiper||{},MemberStack=window.MemberStack||{};class ApiCall{constructor(){const e=JSON.parse(localStorage.getItem("token")||"null");e?(this.tokenObj=e,this.baseUrl=development?"http://127.0.0.1:5000/apiV1":"https://api.tweetnest.io/apiV1",MemberStack.onReady.then(e=>{e.loggedIn||(window.location.pathname="/")})):window.location.pathname="/"}getReq(e){return new Promise(async(t,n)=>{try{const n=await fetch(this.baseUrl+e,{method:"GET",headers:{Authorization:`Bearer ${this.tokenObj.access_token}`}}),o=await n.json();if(o.status)return t(o.data);throw new Error(o.message)}catch(e){n(e)}})}postReq(e,t){return new Promise(async(n,o)=>{try{const o=await fetch(this.baseUrl+e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.tokenObj.access_token}`},body:JSON.stringify(t)}),a=await o.json();if(a.status)return n(a.data);throw new Error(a.message)}catch(e){o(e)}})}refreshToken(){return console.log("refreshToken"),new Promise(async(e,t)=>{try{const t=await fetch(this.baseUrl+"/auth/refresh-token",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.tokenObj.access_token}`},body:JSON.stringify({token:{refresh_token:this.tokenObj.refresh_token}})}),n=await t.json();if(n.status)return localStorage.setItem("token",JSON.stringify(n.data)),this.tokenObj=n.data,e(null);throw new Error(n.message)}catch(e){t(e)}})}}const shuffle=e=>{var t=Math.floor;const n=Array(e);for(let t=0;t<e;t++)n[t]=t;for(let o,a=e;0!=a;)o=t(Math.random()*a),a--,[n[a],n[o]]=[n[o],n[a]];return n},handleResponse=(e,t)=>{if(t)try{const t=document.getElementById(`${e}-complete`);t.style.display="block";const n=document.getElementById(`${e}-overall`);n.style.display="none"}catch(e){console.error(e)}};window.addEventListener("load",async()=>{return console.log("here")});