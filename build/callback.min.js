var MemberStack=window.MemberStack||{};window.addEventListener("load",async()=>{try{const a=new URLSearchParams(window.location.search),b=a.get("oauth_token"),c=a.get("oauth_verifier");let d=await MemberStack.onReady;if(d.loggedIn&&b&&c){const a=d.id,e=await fetch("https://api.tweetnest.io/apiV1/auth/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({oauth_token:b,oauth_verifier:c,mid:a})}),f=await e.json();if(f.status)localStorage.setItem("token",JSON.stringify(f.data)),window.location.href=`https://tweetnest.io/member/${a}`;else throw new Error(f.message)}}catch(a){alert(a.message),console.error(a)}});