var MemberStack=window.MemberStack||{};fetch("https://api.tweetnest.io/api/").then(a=>a.text().then(console.log).catch(console.error)),console.log("here"),window.addEventListener("load",()=>{const a=JSON.parse(localStorage.getItem("token")||"null");{const a=document.getElementById("logout-id"),b=document.createElement("a");b.classList.add("button-small"),b.classList.add("w-button"),b.href="#",b.textContent="Logout",b.addEventListener("click",()=>{localStorage.removeItem("token"),MemberStack.logout()}),a.after(b),a.remove()}const b=document.getElementById("dashboard-id");b&&(b.setAttribute("href","#"),b.addEventListener("click",async()=>{try{const b=await window.MemberStack.onReady;if(b.loggedIn)if(a)window.location.href=`https://tweetnest.io/member/${b.id}`;else{const a=await fetch("https://api.tweetnest.io/apiV1/auth/authorize"),b=await a.json();if(b.status)window.location.href=b.data;else throw new Error(b.message)}}catch(a){console.error(a)}}))});